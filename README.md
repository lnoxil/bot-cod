# Discord ‚Üî Telegram Ticket Bridge

–ë–æ—Ç –¥–ª—è Discord, –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–∑ Telegram:
- —Ç–∏–∫–µ—Ç-–ø–∞–Ω–µ–ª—å —Å 2 –∫–Ω–æ–ø–∫–∞–º–∏: **Order** –∏ **Support**;
- —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ç–∏–∫–µ—Ç–æ–≤ –≤ Discord;
- —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö/–∑–∞–∫—Ä—ã—Ç—ã—Ö —Ç–∏–∫–µ—Ç–∞—Ö –≤ Telegram;
- –ø–µ—Ä–µ–ø–∏—Å–∫–∞ –≤ —Ç–∏–∫–µ—Ç–µ –∏–∑ Telegram (—á–µ—Ä–µ–∑ —Ç–µ–º—ã forum topic);
- –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∏ **—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–∞—Å—Ç–æ–º–Ω—ã—Ö Discord-–ø–æ—Å—Ç–æ–≤ –∏–∑ Telegram.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ü–∞–Ω–µ–ª—å —Ç–∏–∫–µ—Ç–æ–≤**
   - Slash-–∫–æ–º–∞–Ω–¥–∞ –≤ Discord: `/send_ticket_panel`
   - Telegram-–∫–æ–º–∞–Ω–¥–∞: `/panel <channel_id> title|description|image_url?`

2. **–¢–∏–∫–µ—Ç—ã**
   - –ö–Ω–æ–ø–∫–∞ `Order` —Å–æ–∑–¥–∞—ë—Ç –∫–∞–Ω–∞–ª `order-username`
   - –ö–Ω–æ–ø–∫–∞ `Support` —Å–æ–∑–¥–∞—ë—Ç –∫–∞–Ω–∞–ª `support-username`
   - –í –∫–∞–Ω–∞–ª –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ `Close ticket`

3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram**
   - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∏–∫–µ—Ç–∞
   - –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Ç–∏–∫–µ—Ç–∞

4. **Bridge —Å–æ–æ–±—â–µ–Ω–∏–π**
   - –°–æ–æ–±—â–µ–Ω–∏—è –∏–∑ Discord-—Ç–∏–∫–µ—Ç–∞ –ª–µ—Ç—è—Ç –≤ Telegram topic
   - –û—Ç–≤–µ—Ç –≤ Telegram topic –ª–µ—Ç–∏—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ Discord-—Ç–∏–∫–µ—Ç

5. **–†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ—Å—Ç–æ–≤ –∏–∑ Telegram (—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º)**
   - `/post_save <name> <channel_id> title|description|color_hex|image_url?` ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω –∏ —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å
   - `/post_edit <name> <field> <value>` ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω (title/description/color/image/channel_id)
   - `/post_send <name>` ‚Äî –∑–∞–Ω–æ–≤–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω
   - `/post_show <name>` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —à–∞–±–ª–æ–Ω
   - `/post_list` ‚Äî —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤

## –ü—Ä–∏–º–µ—Ä—ã (–ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–º)

### 1) –ü—Ä–∏–º–µ—Ä –ø–æ—Å—Ç–∞ –ø–æ–¥ —Ç–∏–∫–µ—Ç-—Ü–µ–Ω—Ç—Ä –∫–∞–∫ –Ω–∞ —Å–∫—Ä–∏–Ω–µ

```text
/post_save zenbuilds_ticket 123456789012345678 ZENBUILDS TICKET CENTER|üéÅ: We work with projects of any complexity and are ready to create something amazing for you\n\nüí¨: Our staff will provide the most comfortable communication with an individual approach to the client\n\nüìã: You can try yourself as a builder in our team, we will welcome high quality specialists|2ECC71|https://example.com/zenbuilds.jpg
```

### 2) –†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞: –ø—Ä–∞–≤–∫–∞ —Ç–æ–≥–æ –∂–µ —à–∞–±–ª–æ–Ω–∞ –∏–∑ Telegram

```text
/post_edit zenbuilds_ticket description üéÅ: –ú—ã –¥–µ–ª–∞–µ–º –ø—Ä–æ–µ–∫—Ç—ã –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏\n\nüí¨: –°–∞–ø–ø–æ—Ä—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –∏ –ø–æ –¥–µ–ª—É\n\nüìã: –û—Ç–∫—Ä—ã—Ç—ã –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É —Å –æ–ø—ã—Ç–Ω—ã–º–∏ –±–∏–ª–¥–µ—Ä–∞–º–∏
/post_edit zenbuilds_ticket color 00B894
/post_edit zenbuilds_ticket image https://example.com/new-image.jpg
/post_show zenbuilds_ticket
/post_send zenbuilds_ticket
```

### 3) –ü–µ—Ä–µ–Ω–æ—Å —à–∞–±–ª–æ–Ω–∞ –≤ –¥—Ä—É–≥–æ–π –∫–∞–Ω–∞–ª

```text
/post_edit zenbuilds_ticket channel_id 987654321098765432
/post_send zenbuilds_ticket
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
python -m venv .venv
source .venv/bin/activate
pip install -e .
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏ `.env`:
- `DISCORD_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Discord –±–æ—Ç–∞
- `TELEGRAM_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `TELEGRAM_CHAT_ID` ‚Äî —á–∞—Ç/–∫–∞–Ω–∞–ª –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `SUPPORT_ROLE_ID` (–æ–ø—Ü.) ‚Äî —Ä–æ–ª—å —Å–∞–ø–ø–æ—Ä—Ç–∞ –≤ Discord
- `TICKET_CATEGORY_ID` (–æ–ø—Ü.) ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –≥–¥–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∏–∫–µ—Ç—ã
- `STATE_FILE` ‚Äî json-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–≤—è–∑–æ–∫ —Ç–∏–∫–µ—Ç–æ–≤
- `POSTS_FILE` ‚Äî json-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –ø–æ—Å—Ç–æ–≤

## –ó–∞–ø—É—Å–∫

```bash
python src/bot.py
```

## –í–∞–∂–Ω–æ

- –î–ª—è bridge —á–µ—Ä–µ–∑ —Ç–µ–º—ã –≤ Telegram –∏—Å–ø–æ–ª—å–∑—É–π supergroup —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ Topics.
- –ï—Å–ª–∏ topics –≤—ã–∫–ª—é—á–µ–Ω—ã, –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç.
- –ö–æ–º–∞–Ω–¥—ã Telegram —Ç–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω—ã –¥–ª—è –∫–µ–π—Å–æ–≤, –≥–¥–µ `update.message` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
